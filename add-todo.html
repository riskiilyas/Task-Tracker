<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Task - Impact Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
            <link rel="icon" href="logo.png" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        .impact-selector:hover { transform: scale(1.02); }
        .impact-selected { 
            border-color: #3b82f6 !important; 
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05));
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 h-screen overflow-hidden">
    <div class="flex h-full">
        <!-- Sidebar dengan Templates -->
        <div class="w-80 bg-slate-900/50 border-r border-slate-800 flex flex-col">
            <!-- Header -->
            <div class="p-6 border-b border-slate-800">
                <button onclick="window.location.href='index.html'" 
                        class="bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-all mb-4">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1 class="text-xl font-bold text-white">Add New Task</h1>
                <p class="text-sm text-slate-400 mt-1">Create meaningful impact</p>
            </div>

            <!-- Quick Templates -->
            <div class="flex-1 p-6 overflow-y-auto">
                <h3 class="text-sm font-medium mb-4 text-slate-300">Quick Templates</h3>
                <div class="space-y-3">
                    <button onclick="useTemplate('Learn new skill', 'Invest time in developing abilities that provide long-term value', 5)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üìö Learn New Skill</div>
                        <div class="text-xs text-slate-400">5 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Exercise/Workout', 'Maintain physical and mental health through movement', 3)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üí™ Exercise</div>
                        <div class="text-xs text-slate-400">3 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Help someone', 'Make a positive difference in someone else\'s day', 8)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">‚ù§Ô∏è Help Someone</div>
                        <div class="text-xs text-slate-400">8 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Read & Learn', 'Expand knowledge and perspectives through reading', 3)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üìñ Read & Learn</div>
                        <div class="text-xs text-slate-400">3 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Creative project', 'Express creativity and make something meaningful', 5)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üé® Creative Project</div>
                        <div class="text-xs text-slate-400">5 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Connect with people', 'Build relationships and meaningful connections', 3)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">ü§ù Connect</div>
                        <div class="text-xs text-slate-400">3 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Organize & Plan', 'Structure life and environment for better productivity', 2)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üìã Organize</div>
                        <div class="text-xs text-slate-400">2 Impact Points</div>
                    </button>
                    <button onclick="useTemplate('Self-care', 'Take care of mental and physical wellbeing', 3)"
                            class="w-full bg-slate-800/30 border border-slate-700 hover:bg-slate-800/50 p-4 rounded-lg text-left transition-all">
                        <div class="font-medium text-white text-sm mb-1">üßò Self-Care</div>
                        <div class="text-xs text-slate-400">3 Impact Points</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Form -->
        <div class="flex-1 flex items-center justify-center p-8">
            <div class="w-full max-w-2xl">
                <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-8 fade-in backdrop-blur-sm">
                    <form id="todoForm" class="space-y-6">
                        <!-- Title -->
                        <div>
                            <label class="block text-sm font-medium mb-3 text-slate-300">Task Title</label>
                            <input type="text" id="title" required
                                   class="w-full p-4 bg-slate-800/50 border border-slate-700 rounded-lg focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all text-white placeholder-slate-400"
                                   placeholder="What do you want to accomplish?">
                        </div>

                        <!-- Description -->
                        <div>
                            <label class="block text-sm font-medium mb-3 text-slate-300">Description</label>
                            <textarea id="description" rows="3"
                                      class="w-full p-4 bg-slate-800/50 border border-slate-700 rounded-lg focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all resize-none text-white placeholder-slate-400"
                                      placeholder="Why is this important and how will it create impact?"></textarea>
                        </div>

                        <!-- Date -->
                        <div>
                            <label class="block text-sm font-medium mb-3 text-slate-300">Target Date</label>
                            <input type="date" id="date" required
                                   class="w-full p-4 bg-slate-800/50 border border-slate-700 rounded-lg focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all text-white">
                        </div>

                        <!-- Impact Selection -->
                        <div>
                            <label class="block text-sm font-medium mb-4 text-slate-300">Impact Level</label>
                            <div class="grid grid-cols-5 gap-3">
                                <div class="impact-selector bg-slate-800/30 border border-slate-700 p-4 rounded-lg text-center cursor-pointer transition-all hover:border-slate-600"
                                     onclick="selectImpact(1, this)">
                                    <div class="text-sm mb-2 text-slate-400">‚óè</div>
                                    <div class="font-medium text-white text-sm">1</div>
                                    <div class="text-xs text-slate-500 mt-1">Small</div>
                                </div>
                                <div class="impact-selector bg-slate-800/30 border border-slate-700 p-4 rounded-lg text-center cursor-pointer transition-all hover:border-slate-600"
                                     onclick="selectImpact(3, this)">
                                    <div class="text-sm mb-2 text-slate-400">‚óè‚óè</div>
                                    <div class="font-medium text-white text-sm">3</div>
                                    <div class="text-xs text-slate-500 mt-1">Medium</div>
                                </div>
                                <div class="impact-selector bg-slate-800/30 border border-slate-700 p-4 rounded-lg text-center cursor-pointer transition-all hover:border-slate-600"
                                     onclick="selectImpact(5, this)">
                                    <div class="text-sm mb-2 text-blue-400">‚óè‚óè‚óè</div>
                                    <div class="font-medium text-white text-sm">5</div>
                                    <div class="text-xs text-slate-500 mt-1">Good</div>
                                </div>
                                <div class="impact-selector bg-slate-800/30 border border-slate-700 p-4 rounded-lg text-center cursor-pointer transition-all hover:border-slate-600"
                                     onclick="selectImpact(8, this)">
                                    <div class="text-sm mb-2 text-blue-400">‚óè‚óè‚óè‚óè</div>
                                    <div class="font-medium text-white text-sm">8</div>
                                    <div class="text-xs text-slate-500 mt-1">Great</div>
                                </div>
                                <div class="impact-selector bg-slate-800/30 border border-slate-700 p-4 rounded-lg text-center cursor-pointer transition-all hover:border-slate-600"
                                     onclick="selectImpact(10, this)">
                                    <div class="text-sm mb-2 text-blue-400">‚óè‚óè‚óè‚óè‚óè</div>
                                    <div class="font-medium text-white text-sm">10</div>
                                    <div class="text-xs text-slate-500 mt-1">Epic</div>
                                </div>
                            </div>
                            <input type="hidden" id="impact" required>
                        </div>

<!-- Submit Button -->
                       <button type="submit" 
                               class="w-full bg-blue-600 hover:bg-blue-700 p-4 rounded-lg font-medium text-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed">
                           Create Task
                       </button>
                   </form>
               </div>
           </div>
       </div>
   </div>

   <!-- Success Modal -->
   <div id="successModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden items-center justify-center z-50">
       <div class="bg-slate-900 border border-slate-700 p-8 rounded-xl text-center max-w-sm mx-4">
           <div class="text-5xl mb-4">‚úÖ</div>
           <h3 class="text-2xl font-bold mb-3 text-white">Task Created!</h3>
           <p class="text-slate-300 mb-6">Ready to make an impact tomorrow?</p>
           <div class="flex gap-3">
               <button onclick="closeSuccess()" class="flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-all">
                   Back to Dashboard
               </button>
               <button onclick="addAnother()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg transition-all">
                   Add Another
               </button>
           </div>
       </div>
   </div>

   <script>
       let selectedImpact = null;

       // Set default date to tomorrow
       document.getElementById('date').valueAsDate = new Date(Date.now() + 24*60*60*1000);

       function selectImpact(value, element) {
           // Remove previous selection
           document.querySelectorAll('.impact-selector').forEach(el => {
               el.classList.remove('impact-selected');
           });
           
           // Add selection to clicked element
           element.classList.add('impact-selected');
           
           selectedImpact = value;
           document.getElementById('impact').value = value;
       }

       function useTemplate(title, description, impact) {
           document.getElementById('title').value = title;
           document.getElementById('description').value = description;
           
           // Select the impact
           const impactSelectors = document.querySelectorAll('.impact-selector');
           const impactValues = [1, 3, 5, 8, 10];
           const index = impactValues.indexOf(impact);
           if (index !== -1) {
               selectImpact(impact, impactSelectors[index]);
           }
       }

       document.getElementById('todoForm').addEventListener('submit', function(e) {
           e.preventDefault();
           
           if (!selectedImpact) {
               alert('Please select an impact level');
               return;
           }

           const formData = {
               id: Date.now(),
               title: document.getElementById('title').value,
               description: document.getElementById('description').value,
               date: document.getElementById('date').value,
               impact: selectedImpact,
               completed: false,
               current: false,
               createdAt: new Date().toISOString()
           };

           // Load existing todos
           let todos = JSON.parse(localStorage.getItem('impactTodos') || '[]');
           todos.push(formData);
           localStorage.setItem('impactTodos', JSON.stringify(todos));

           // Show success modal
           document.getElementById('successModal').classList.remove('hidden');
           document.getElementById('successModal').classList.add('flex');
       });

       function closeSuccess() {
           document.getElementById('successModal').classList.add('hidden');
           document.getElementById('successModal').classList.remove('flex');
           window.location.href = 'index.html';
       }

       function addAnother() {
           document.getElementById('successModal').classList.add('hidden');
           document.getElementById('successModal').classList.remove('flex');
           
           // Reset form
           document.getElementById('todoForm').reset();
           document.getElementById('date').valueAsDate = new Date(Date.now() + 24*60*60*1000);
           selectedImpact = null;
           
           // Remove impact selections
           document.querySelectorAll('.impact-selector').forEach(el => {
               el.classList.remove('impact-selected');
           });
       }
   </script>
</body>
</html>